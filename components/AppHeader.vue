<template>
    <header class="page-header">
        <div class="container">
            <div class="brand">
                <NuxtLink :to="localePath('/')" data-text="Beta">
                    <svg width="30" height="25" viewBox="0 0 30 25" fill="#0f172a" xmlns="http://www.w3.org/2000/svg">
                        <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M7.32732 0.1725C7.82982 0.4275 9.32232 1.215 9.37482 1.2525C9.38982 1.26 9.50982 1.3275 9.64482 1.4025C10.2898 1.74 10.2748 1.74 10.2598 1.8225C10.2373 1.935 9.96732 2.4975 9.59232 3.21C9.16482 4.0275 9.05232 4.245 8.82732 4.6875L8.58732 5.16L8.64732 5.2125C8.71482 5.265 9.99732 5.9775 10.4323 6.2025C10.5748 6.285 10.7098 6.3525 10.7248 6.3675C10.7398 6.375 10.8448 6.435 10.9573 6.495C11.4823 6.7725 11.8423 6.9675 11.8723 7.005C11.9173 7.0425 11.5873 7.755 11.1148 8.6475C10.9573 8.9475 10.7923 9.2475 10.6048 9.6075C10.5223 9.765 10.4173 9.9675 10.3648 10.065C10.3123 10.155 10.2523 10.2675 10.2298 10.3125C10.1923 10.4175 10.2373 10.4325 9.62232 10.095C9.35982 9.9525 9.13482 9.825 9.12732 9.825C9.11982 9.825 9.02982 9.78 8.92482 9.72C8.39232 9.42 6.83232 8.625 6.77982 8.625C6.74232 8.625 6.58482 8.895 6.36732 9.315C6.31482 9.4125 6.17982 9.6675 6.06732 9.8775C5.82732 10.3275 5.69982 10.575 5.49732 10.9575C5.41482 11.115 5.33982 11.25 5.33232 11.265C5.32482 11.28 5.24232 11.43 5.14482 11.61C5.05482 11.7825 4.97982 11.9325 4.97232 11.94C4.94232 11.97 4.13232 11.58 3.42732 11.205C3.32232 11.145 3.11232 11.04 2.96232 10.9575C2.81232 10.8825 2.54232 10.7325 2.35482 10.635C2.17482 10.53 2.01732 10.4475 2.00232 10.44C1.90482 10.4025 1.64232 10.23 1.64232 10.2C1.64232 10.125 2.19732 9.015 2.69982 8.085C2.94732 7.6275 3.31482 6.855 3.31482 6.795C3.31482 6.765 2.81232 6.465 2.76732 6.465C2.75982 6.465 2.60982 6.3825 2.42232 6.2775C2.24232 6.18 2.08482 6.09 2.07732 6.09C2.07732 6.09 1.93482 6.015 1.76232 5.925C1.59732 5.835 1.41732 5.7375 1.36482 5.7075C1.31232 5.6775 1.19982 5.625 1.11732 5.58C1.03482 5.535 0.802324 5.4075 0.592324 5.295C0.382324 5.1825 0.164824 5.0625 0.112324 5.0325L0.00732422 4.98L0.0673242 4.83C0.262324 4.3425 1.45482 2.1225 1.72482 1.74C1.76982 1.6725 1.77732 1.6725 1.85982 1.71C1.94982 1.74 3.11982 2.325 3.50232 2.5275C3.77232 2.6775 4.71732 3.1425 4.92732 3.24C5.20482 3.3675 5.18232 3.39 5.55732 2.685C5.63982 2.5275 5.75982 2.3025 5.82732 2.1825C5.89482 2.0625 5.94732 1.9575 5.94732 1.95C5.94732 1.9425 6.16482 1.545 6.54732 0.8475C6.74232 0.495 6.90732 0.2025 6.96732 0.105C7.01982 0.0300002 7.04982 0.0300002 7.32732 0.1725ZM24.2623 5.175C24.2848 5.1825 24.3598 5.1825 24.4198 5.175C24.4948 5.175 24.5473 5.175 24.5473 5.19C24.5473 5.205 24.6073 5.2125 24.6898 5.205C24.7723 5.1975 24.8398 5.205 24.8473 5.22C24.8473 5.2275 24.9223 5.2425 24.9973 5.25C25.3198 5.2725 25.3273 5.28 25.3348 5.3775C25.3423 5.43 25.3348 5.49 25.3273 5.5125C25.3123 5.5425 25.3048 5.625 25.3123 5.7C25.3198 5.7825 25.3123 5.85 25.2973 5.85C25.2898 5.85 25.2823 5.9175 25.2898 6.0075C25.2898 6.0975 25.2823 6.165 25.2748 6.165C25.2598 6.165 25.2598 6.24 25.2598 6.33C25.2673 6.42 25.2598 6.4875 25.2448 6.495C25.2298 6.5025 25.2148 6.57 25.2148 6.645C25.2073 6.7275 25.1998 6.8325 25.1923 6.87L25.1773 6.9525H24.3373C23.8123 6.9525 23.4823 6.96 23.4748 6.975C23.4673 6.99 23.3923 6.9975 23.2798 6.99C23.1823 6.975 23.0773 6.9825 23.0548 6.99C23.0323 6.9975 22.9648 7.0125 22.9123 7.0125C22.8073 7.02 22.7773 7.0275 22.4848 7.0875C22.2523 7.14 22.1323 7.17 22.1473 7.1925C22.1548 7.2075 22.1248 7.215 22.0873 7.215C22.0498 7.215 21.9598 7.245 21.8848 7.2825C21.8098 7.32 21.7423 7.35 21.7348 7.35C21.7123 7.35 20.9623 7.7625 20.7973 7.8675L20.6473 7.9575L20.6098 7.905C20.5798 7.875 20.5348 7.8 20.5048 7.74C20.4673 7.68 20.3848 7.5375 20.3173 7.4175C20.0548 6.9825 19.7998 6.525 19.7998 6.48C19.7998 6.3675 20.9623 5.7525 21.5623 5.535C21.7798 5.46 22.1398 5.3625 22.4098 5.3175C22.5223 5.295 22.6348 5.2725 22.6498 5.265C22.6948 5.25 22.7173 5.25 22.9573 5.22C23.0323 5.2125 23.0923 5.1975 23.0923 5.19C23.0923 5.1825 23.1523 5.175 23.2198 5.1825C23.2873 5.1825 23.3548 5.1825 23.3698 5.1675C23.3923 5.145 24.1948 5.1525 24.2623 5.175ZM27.5548 6.465C27.6598 6.4575 28.5823 7.6275 28.8523 8.115C29.2273 8.775 29.6098 9.8475 29.7448 10.5975C29.7523 10.635 29.7673 10.665 29.7823 10.665C29.7898 10.665 29.7973 10.68 29.7898 10.695C29.7823 10.7175 29.7973 10.83 29.8273 10.95C29.8798 11.1825 29.9323 11.52 29.9098 11.55C29.8948 11.5875 29.6548 11.6475 29.3023 11.7075C29.0998 11.745 28.9273 11.7825 28.9273 11.79C28.9198 11.7975 28.8823 11.805 28.8448 11.7975C28.8073 11.79 28.7548 11.7975 28.7323 11.805C28.7023 11.82 28.6423 11.82 28.5898 11.82C28.5373 11.82 28.4848 11.8275 28.4698 11.8425C28.4473 11.8575 28.4023 11.8575 28.3423 11.85C28.2298 11.8275 28.1848 11.685 27.9898 10.7475C27.9748 10.6425 27.9448 10.5525 27.9373 10.545C27.9223 10.5375 27.9223 10.5225 27.9298 10.5C27.9373 10.485 27.9298 10.455 27.9148 10.4325C27.9073 10.4175 27.8773 10.3425 27.8623 10.2675C27.8023 9.9975 27.6073 9.51 27.4273 9.165C27.1948 8.715 26.8873 8.295 26.4748 7.8525C26.3548 7.7175 26.2498 7.5975 26.2423 7.59C26.2423 7.5825 26.3173 7.5 26.4148 7.4175C26.5198 7.335 26.6773 7.1925 26.7748 7.11C26.8648 7.02 27.0748 6.84 27.2398 6.705C27.3973 6.57 27.5398 6.465 27.5548 6.465ZM18.2998 8.28C18.3148 8.28 19.8073 9.015 19.8223 9.03C19.8298 9.0375 19.7548 9.2025 19.6648 9.39C19.5073 9.7125 19.4473 9.825 19.2448 10.305C19.2148 10.3875 19.1698 10.485 19.1473 10.53C19.1323 10.5675 19.1023 10.6425 19.0798 10.7025C19.0573 10.755 19.0123 10.8825 18.9673 10.98C18.9223 11.085 18.8548 11.2425 18.8173 11.34C18.6523 11.7675 18.5398 12.045 18.4498 12.2625C18.3223 12.57 18.1798 12.945 18.1798 12.96C18.1798 12.975 18.1573 13.0275 18.1348 13.08C18.1048 13.14 18.0223 13.3425 17.9473 13.5375C17.8723 13.7325 17.8048 13.8975 17.7973 13.905C17.7973 13.905 17.7523 13.8975 17.7073 13.875C17.6623 13.8525 17.4673 13.77 17.2723 13.6875C17.0773 13.605 16.8748 13.515 16.8148 13.485C16.6648 13.4175 16.3798 13.2975 16.3123 13.2825C16.1773 13.2375 16.1623 13.215 16.2223 13.11C16.2448 13.0575 16.3573 12.7875 16.4623 12.5175C16.5748 12.2475 16.6798 11.9775 16.7098 11.9175C16.7323 11.8575 16.7923 11.7 16.8448 11.5725C17.0323 11.07 17.2798 10.455 17.3473 10.2975C17.3773 10.245 17.3923 10.1925 17.3923 10.185C17.3923 10.1625 17.6473 9.5625 17.7298 9.39C17.7598 9.3225 17.7898 9.2625 17.7898 9.2475C17.7898 9.225 18.1723 8.46 18.2323 8.3625C18.2623 8.3175 18.2923 8.28 18.2998 8.28ZM8.02482 10.2975H8.12232L8.17482 10.4625C8.20482 10.5525 8.24232 10.6875 8.25732 10.7625C8.29482 10.965 8.30232 10.9875 8.33232 10.9725C8.33982 10.965 8.34732 10.9725 8.33982 10.995C8.32482 11.025 8.36232 11.2725 8.39232 11.355C8.39982 11.37 8.41482 11.4075 8.41482 11.4225C8.43732 11.5275 8.52732 11.8875 8.54982 11.9325C8.56482 11.955 8.58732 12.045 8.60982 12.1275C8.63232 12.21 8.66232 12.285 8.66982 12.3C8.68482 12.3075 8.70732 12.36 8.72232 12.405C8.87232 12.9 9.23982 13.515 9.76482 14.16C10.1473 14.64 10.1398 14.625 10.0573 14.6925C9.48732 15.195 8.99232 15.6075 8.86482 15.6825L8.80482 15.7275L8.60982 15.5025C8.19732 15.015 7.93482 14.6775 7.76232 14.4075C7.65732 14.2425 7.35732 13.7025 7.31982 13.5975C7.29732 13.545 7.23732 13.4175 7.19232 13.32C7.04982 13.0125 6.86982 12.495 6.80232 12.2025C6.78732 12.12 6.75732 12.0525 6.74232 12.045C6.72732 12.045 6.71982 12.0075 6.72732 11.9775C6.73482 11.94 6.72732 11.9175 6.71232 11.9175C6.69732 11.9175 6.69732 11.8875 6.70482 11.8575C6.70482 11.82 6.70482 11.79 6.68982 11.79C6.67482 11.79 6.66732 11.7675 6.67482 11.73C6.68232 11.7 6.67482 11.67 6.66732 11.67C6.65232 11.67 6.64482 11.6475 6.64482 11.6175C6.64482 11.58 6.62982 11.565 6.61482 11.565C6.57732 11.5725 6.56982 11.535 6.60732 11.52C6.62982 11.5125 6.58482 11.28 6.55482 11.28C6.54732 11.28 6.54732 11.2575 6.55482 11.235C6.55482 11.2125 6.54732 11.1375 6.53982 11.0775C6.52482 11.0175 6.50232 10.95 6.49482 10.92C6.44982 10.725 6.45732 10.62 6.51732 10.605C6.60732 10.575 6.63732 10.5675 6.73482 10.5525C6.78732 10.545 6.83232 10.53 6.83232 10.5225C6.83232 10.5075 6.87732 10.5 6.92982 10.5C6.98232 10.5 7.04982 10.485 7.07232 10.4775C7.09482 10.47 7.13232 10.455 7.14732 10.455C7.16982 10.4475 7.28982 10.425 7.41732 10.4025C7.54482 10.38 7.67232 10.3575 7.68732 10.35C7.70982 10.3425 7.74732 10.335 7.76232 10.3425C7.78482 10.3425 7.82982 10.335 7.86732 10.32C7.89732 10.305 7.97232 10.2975 8.02482 10.2975ZM28.5223 13.4775C28.5373 13.485 28.5898 13.4925 28.6273 13.485C28.6723 13.485 28.7323 13.4925 28.7548 13.5C28.7773 13.5075 28.8298 13.515 28.8673 13.5075C28.9123 13.5 28.9423 13.5075 28.9498 13.5225C28.9573 13.5375 29.0098 13.545 29.2723 13.575C29.3173 13.575 29.3698 13.59 29.3923 13.5975C29.4148 13.6125 29.4673 13.6125 29.5123 13.605C29.5498 13.5975 29.5798 13.605 29.5798 13.6125C29.5798 13.62 29.6698 13.635 29.7823 13.65C29.9323 13.665 29.9848 13.68 29.9848 13.7025C29.9698 13.7475 29.9473 14.01 29.9398 14.16C29.9323 14.22 29.9248 14.28 29.9173 14.295C29.9023 14.31 29.9023 14.3625 29.9023 14.4075C29.9023 14.445 29.9023 14.4975 29.8948 14.52C29.8798 14.5575 29.8423 14.76 29.8348 14.8425C29.8348 14.8575 29.8273 14.895 29.8198 14.9175C29.8123 14.9325 29.7973 15.03 29.7823 15.135C29.7598 15.24 29.7373 15.3825 29.7148 15.465C29.6923 15.54 29.6848 15.615 29.6923 15.63C29.6998 15.6375 29.6998 15.6525 29.6848 15.6525C29.6698 15.6525 29.6548 15.6675 29.6548 15.6975C29.6548 15.72 29.6248 15.87 29.5798 16.0275C29.5423 16.1925 29.5123 16.335 29.5198 16.3575C29.5273 16.3725 29.5198 16.3875 29.5123 16.3875C29.4898 16.3875 29.4298 16.56 29.3848 16.77C29.3698 16.8375 29.3473 16.905 29.3323 16.92C29.3248 16.9275 29.3023 17.01 29.2798 17.085C29.2573 17.1675 29.2198 17.2725 29.1973 17.31C29.1823 17.355 29.1673 17.4 29.1673 17.4075C29.1673 17.43 29.0398 17.73 28.9573 17.9025C28.8598 18.105 28.8598 18.1575 28.9273 18.2625C29.1298 18.5625 29.4373 19.17 29.4373 19.2825C29.4373 19.2975 29.4448 19.335 29.4598 19.3575C29.4748 19.38 29.5198 19.545 29.5498 19.725C29.5873 19.905 29.6248 20.0475 29.6323 20.04C29.6398 20.0325 29.6398 20.085 29.6323 20.1525C29.6323 20.22 29.6323 20.2875 29.6473 20.3175C29.6698 20.37 29.6623 20.8125 29.6398 20.865C29.6323 20.8875 29.6323 20.955 29.6323 21.0075C29.6398 21.06 29.6398 21.105 29.6248 21.1125C29.6173 21.1125 29.6023 21.1575 29.5948 21.2025C29.5648 21.435 29.3923 22.0275 29.3398 22.1025C29.3248 22.1175 29.3023 22.1625 29.2873 22.215C28.9798 23.01 28.0723 23.88 27.1948 24.225C27.1498 24.24 27.0823 24.27 27.0373 24.285C26.9173 24.3375 26.5723 24.45 26.5273 24.45C26.5048 24.45 26.4898 24.4575 26.4823 24.465C26.4823 24.4725 26.4223 24.4875 26.3398 24.4875C26.2573 24.495 26.1673 24.51 26.1448 24.5175C26.1223 24.5325 25.9048 24.5325 25.6648 24.5325C25.1173 24.5175 25.0648 24.5175 25.0648 24.4875C25.0648 24.4725 25.0273 24.4725 24.9898 24.48C24.9448 24.48 24.9148 24.48 24.9148 24.4725C24.9148 24.4575 24.8773 24.4425 24.8323 24.435C24.6973 24.4125 24.6823 24.405 24.6148 24.375C24.5698 24.36 24.5323 24.3525 24.5173 24.3525C24.4798 24.3525 24.1123 24.195 23.8798 24.0825C23.0623 23.67 22.4098 22.9725 22.0498 22.1025C22.0048 21.99 21.9598 21.885 21.9448 21.87C21.9373 21.8475 21.8923 21.6975 21.8548 21.5325C21.8173 21.375 21.7798 21.2325 21.7723 21.225C21.7423 21.2025 21.7273 20.1 21.7498 20.1C21.7573 20.1 21.7723 20.0625 21.7723 20.0175C21.7723 19.8675 21.9673 19.17 22.0573 18.9975C22.0723 18.975 22.1323 18.8625 22.1848 18.75C22.4773 18.1575 22.9648 17.61 23.5048 17.265C23.8798 17.025 24.5998 16.71 24.7723 16.71C24.8023 16.71 24.8398 16.7025 24.8473 16.695C24.8548 16.6875 24.9073 16.6725 24.9673 16.6725C25.0198 16.6725 25.0723 16.6575 25.0798 16.6425C25.1023 16.62 26.2648 16.6125 26.2648 16.6425C26.2648 16.6575 26.3773 16.68 26.5348 16.695C26.5948 16.695 26.6623 16.71 26.6848 16.7175C26.6998 16.7175 26.8723 16.7775 27.0598 16.8375C27.2473 16.8975 27.4123 16.9425 27.4273 16.935C27.4648 16.9125 27.5623 16.695 27.5998 16.545C27.6223 16.47 27.6523 16.38 27.6673 16.3575C27.6823 16.335 27.6823 16.305 27.6748 16.29C27.6673 16.275 27.6748 16.2675 27.6823 16.2675C27.6973 16.2675 27.7198 16.2 27.7348 16.125C27.7498 16.05 27.7798 15.96 27.7873 15.93C27.8098 15.885 27.8698 15.645 27.9748 15.1725C28.0048 15.0225 28.0498 14.82 28.0723 14.715C28.0948 14.6175 28.1098 14.505 28.1023 14.475C28.0948 14.445 28.0948 14.4225 28.1098 14.4225C28.1173 14.4225 28.1323 14.3775 28.1398 14.3325C28.1473 14.28 28.1623 14.16 28.1848 14.07C28.1998 13.98 28.2073 13.8825 28.1998 13.8525C28.1923 13.83 28.1998 13.8075 28.2073 13.8075C28.2223 13.8075 28.2298 13.7625 28.2298 13.695C28.2223 13.635 28.2298 13.59 28.2373 13.59C28.2448 13.59 28.2523 13.5525 28.2523 13.515C28.2523 13.4475 28.4323 13.4175 28.5223 13.4775ZM15.5548 14.445C15.6223 14.445 16.5598 15.885 16.5223 15.9225C16.4923 15.945 15.8398 16.38 15.6973 16.4625C15.6373 16.4925 15.5548 16.5525 15.5098 16.5825C15.2398 16.7625 14.5498 17.055 14.3998 17.055C14.3773 17.055 14.3473 17.0625 14.3398 17.07C14.3323 17.0775 14.3023 17.085 14.2798 17.0925C14.1073 17.115 14.0323 17.1375 14.0323 17.1525C14.0323 17.16 13.9948 17.16 13.9573 17.1525C13.9123 17.1525 13.8598 17.1525 13.8373 17.16C13.6948 17.22 12.0673 17.22 11.9173 17.1675C11.8948 17.16 11.7823 17.145 11.6698 17.145C11.5573 17.1375 11.4523 17.13 11.4523 17.1225C11.4448 17.1075 11.3998 17.1 11.3473 17.0925C11.3023 17.085 11.2048 17.0625 11.1223 17.04C11.0473 17.0175 10.9723 17.0025 10.9723 17.0025C10.9423 17.0025 10.9573 16.77 10.9948 16.56C11.0173 16.4325 11.0323 16.3125 11.0248 16.29C11.0173 16.26 11.0248 16.2375 11.0323 16.2375C11.0473 16.23 11.0623 16.155 11.0623 16.065C11.0623 15.975 11.0773 15.9075 11.0848 15.915C11.1073 15.9225 11.1448 15.8025 11.1223 15.78C11.1148 15.7725 11.1148 15.7575 11.1298 15.7425C11.1373 15.7275 11.1598 15.6375 11.1748 15.5475C11.2198 15.33 11.2648 15.2775 11.3998 15.3075C11.4598 15.3225 11.5198 15.33 11.5348 15.3225C11.5573 15.315 11.5723 15.3225 11.5798 15.33C11.5798 15.345 11.6623 15.36 11.7598 15.36C11.8498 15.3675 11.9323 15.375 11.9398 15.39C11.9773 15.4275 13.2748 15.4575 13.5898 15.42C14.1148 15.36 14.4973 15.18 15.3673 14.565C15.4648 14.505 15.5473 14.445 15.5548 14.445Z"
                        />
                    </svg>
                    <span>{{ domain }}</span>
                </NuxtLink>
            </div>

            <nav class="navigation">
                <ul class="menu">
                    <li>
                        <NuxtLink :to="localePath('/explore')">
                            <span>{{ t('page.explore.title') }}</span>
                        </NuxtLink>
                    </li>
                    <li>
                        <NuxtLink :to="localePath('/map')">
                            <span>{{ t('page.map.title') }}</span>
                        </NuxtLink>
                    </li>
                </ul>
            </nav>

            <aside>
                <ul>
                    <li
                        v-for="(button, index) in asideButtons"
                        :key="index"
                        :class="button.type === 'divider' ? 'divider' : null"
                    >
                        <button
                            v-if="button.type === 'button'"
                            type="button"
                            :class="button.class ? button.class : null"
                            :title="t(`general.buttons.${button.name}`)"
                        >
                            <i :class="`fi ${button.icon}`" />
                        </button>
                    </li>
                </ul>
            </aside>
        </div>

        <div class="bg-blur" :style="{ opacity }" />

        <div v-if="['local'].includes(environment)" class="environment local">
            <span>{{ t('general.environment.local') }}</span>
        </div>

        <div v-if="['staging'].includes(environment)" class="environment dev">
            <span>{{ t('general.environment.dev') }}</span>
        </div>
    </header>
</template>

<script setup lang="ts">
    const { locale, t } = useI18n()
    const localePath = useLocalePath()

    const domain = locale.value === 'bg' ? String(import.meta.env.VITE_APP_DOMAIN_BG) : String(import.meta.env.VITE_APP_DOMAIN_EN)
    const environment = String(import.meta.env.VITE_APP_ENV)
    const opacity = ref(0)

    const asideButtons = [
        {
            type: 'button',
            name: 'search',
            icon: 'fi-rr-search'
        },
        {
            type: 'button',
            name: 'bookmarks',
            icon: 'fi-rr-bookmark'
        },
        // {
        //     type: 'button',
        //     name: 'location',
        //     icon: 'fi-rr-location-crosshairs',
        //     class: 'location-sharing'
        // },
        {
            type: 'divider'
        },
        {
            type: 'button',
            name: 'menu',
            icon: 'fi-rr-bars-staggered'
        }
    ]

    const handleScroll = () => {
        if (window.pageYOffset > 0) opacity.value = 1
        else opacity.value = 0
    }

    onMounted(() => {
        window.addEventListener('scroll', handleScroll)
    })
</script>
